function pull(times){

    let results = [];

    for(let i=0;i<times;i++){

        let rarity = rollRarity();
        let pool = DB.filter(c => c.rarity === rarity);
        let char = weightedRandom(pool);

        results.push(char);
    }

    // ======================
    // 10회 보장 로직
    // ======================

    if(times === 10){
        let hasUltraOrHigher = results.some(c => c.rarity >= 2);

        if(!hasUltraOrHigher){
            // 2성 풀에서 하나 강제 선택
            let ultraPool = DB.filter(c => c.rarity === 2);
            let guaranteed = weightedRandom(ultraPool);

            // 마지막 결과를 교체
            results[9] = guaranteed;
        }
    }

    // ======================
    // 출력
    // ======================

    let output = "";

    for(let char of results){

        let isPickup = (
            (PICKUP_3 && char.name === PICKUP_3) ||
            (PICKUP_2 && char.name === PICKUP_2)
        );

        output += `<div class="${getClass(char.rarity)} ${isPickup ? 'pickupMark':''}">
        ${getGradeText(char.rarity)} ${char.name} ${isPickup ? '[PICK UP]' : ''}
        </div>`;
    }

    document.getElementById("result").innerHTML = output;
}
